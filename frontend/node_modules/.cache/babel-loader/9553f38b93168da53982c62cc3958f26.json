{"ast":null,"code":"import { POST_AD, LOAD_ADS, LOAD_AD_DETAILS, LOAD_AD_IMAGE, LOAD_HIGHEST_BID, PLACE_BID, START_AUCTION, USER_PURCHASED_LOADED, AD_POSTED_BY_OTHER, UPDATE_AD_IN_AD_LIST, UPDATE_TIMER, UPDATE_AD_DETAILS, CLEAR_AD_IMAGE, IMAGE_LOADING, CLEAR_AD_DETAILS } from '../actions/types';\nconst initialState = {\n  ads: [],\n  loading: true,\n  imageLoading: true,\n  adDetails: {\n    currentPrice: {\n      $numberDecimal: 0\n    }\n  },\n  loadingHighestBid: true,\n  highestBid: {\n    user: {\n      username: ''\n    }\n  },\n  purchasedLoading: true,\n  purchased: [],\n  adImage: null\n};\nexport default function adReduce() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case LOAD_ADS:\n      return {\n        ...state,\n        loading: false,\n        ads: payload\n      };\n    case LOAD_AD_DETAILS:\n      return {\n        ...state,\n        adDetails: payload,\n        loading: false\n      };\n    case CLEAR_AD_DETAILS:\n      return {\n        ...state,\n        adDetails: {\n          currentPrice: {\n            $numberDecimal: 0\n          }\n        }\n      };\n    case LOAD_AD_IMAGE:\n      return {\n        ...state,\n        adImage: payload,\n        imageLoading: false\n      };\n    case IMAGE_LOADING:\n      return {\n        ...state,\n        imageLoading: true\n      };\n    case CLEAR_AD_IMAGE:\n      return {\n        ...state,\n        adImage: null,\n        loading: false\n      };\n    case UPDATE_AD_DETAILS:\n      if (payload._id === state.adDetails._id) {\n        return {\n          ...state,\n          adDetails: payload,\n          loading: false\n        };\n      } else {\n        return {\n          ...state\n        };\n      }\n    case LOAD_HIGHEST_BID:\n      return {\n        ...state,\n        highestBid: payload,\n        loadingHighestBid: false\n      };\n    case PLACE_BID:\n      return {\n        ...state,\n        adDetails: {\n          ...payload.adDetails,\n          owner: state.adDetails.owner\n        },\n        highestBid: payload.highestBid\n      };\n    case POST_AD:\n      return {\n        ...state,\n        ads: [...state.ads, payload],\n        loading: false\n      };\n    case START_AUCTION:\n      return {\n        ...state,\n        adDetails: {\n          ...state.adDetails,\n          auctionStarted: true\n        },\n        loading: false\n      };\n    case USER_PURCHASED_LOADED:\n      return {\n        ...state,\n        purchased: payload,\n        purchasedLoading: false\n      };\n    case AD_POSTED_BY_OTHER:\n      return {\n        ...state,\n        ads: [payload, ...state.ads]\n      };\n    case UPDATE_AD_IN_AD_LIST:\n      let updatedList = state.ads.map(ad => {\n        if (ad._id.toString() === payload._id.toString()) return payload;else return ad;\n      });\n      return {\n        ...state,\n        ads: updatedList,\n        loading: false\n      };\n    case UPDATE_TIMER:\n      console.log(state.adDetails._id);\n      console.log(payload);\n      if (state.adDetails._id === payload._id) {\n        return {\n          ...state,\n          adDetails: {\n            ...state.adDetails,\n            timer: payload.timer\n          },\n          loading: false\n        };\n      } else {\n        return {\n          ...state\n        };\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["POST_AD","LOAD_ADS","LOAD_AD_DETAILS","LOAD_AD_IMAGE","LOAD_HIGHEST_BID","PLACE_BID","START_AUCTION","USER_PURCHASED_LOADED","AD_POSTED_BY_OTHER","UPDATE_AD_IN_AD_LIST","UPDATE_TIMER","UPDATE_AD_DETAILS","CLEAR_AD_IMAGE","IMAGE_LOADING","CLEAR_AD_DETAILS","initialState","ads","loading","imageLoading","adDetails","currentPrice","$numberDecimal","loadingHighestBid","highestBid","user","username","purchasedLoading","purchased","adImage","adReduce","state","arguments","length","undefined","action","type","payload","_id","owner","auctionStarted","updatedList","map","ad","toString","console","log","timer"],"sources":["/Users/asantamariammathew/Desktop/online-auction-system-backend-main/frontend/src/reducers/ad.js"],"sourcesContent":["import {\n  POST_AD,\n  LOAD_ADS,\n  LOAD_AD_DETAILS,\n  LOAD_AD_IMAGE,\n  LOAD_HIGHEST_BID,\n  PLACE_BID,\n  START_AUCTION,\n  USER_PURCHASED_LOADED,\n  AD_POSTED_BY_OTHER,\n  UPDATE_AD_IN_AD_LIST,\n  UPDATE_TIMER,\n  UPDATE_AD_DETAILS,\n  CLEAR_AD_IMAGE,\n  IMAGE_LOADING,\n  CLEAR_AD_DETAILS,\n} from '../actions/types';\n\nconst initialState = {\n  ads: [],\n  loading: true,\n  imageLoading: true,\n  adDetails: { currentPrice: { $numberDecimal: 0 } },\n  loadingHighestBid: true,\n  highestBid: { user: { username: '' } },\n  purchasedLoading: true,\n  purchased: [],\n  adImage: null,\n};\n\nexport default function adReduce(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case LOAD_ADS:\n      return {\n        ...state,\n        loading: false,\n        ads: payload,\n      };\n\n    case LOAD_AD_DETAILS:\n      return {\n        ...state,\n        adDetails: payload,\n        loading: false,\n      };\n\n    case CLEAR_AD_DETAILS:\n      return {\n        ...state,\n        adDetails: { currentPrice: { $numberDecimal: 0 } },\n      };\n\n    case LOAD_AD_IMAGE:\n      return {\n        ...state,\n        adImage: payload,\n        imageLoading: false,\n      };\n\n    case IMAGE_LOADING:\n      return {\n        ...state,\n        imageLoading: true,\n      };\n\n    case CLEAR_AD_IMAGE:\n      return {\n        ...state,\n        adImage: null,\n        loading: false,\n      };\n\n    case UPDATE_AD_DETAILS:\n      if (payload._id === state.adDetails._id) {\n        return {\n          ...state,\n          adDetails: payload,\n          loading: false,\n        };\n      } else {\n        return {\n          ...state,\n        };\n      }\n\n    case LOAD_HIGHEST_BID:\n      return {\n        ...state,\n        highestBid: payload,\n        loadingHighestBid: false,\n      };\n\n    case PLACE_BID:\n      return {\n        ...state,\n        adDetails: { ...payload.adDetails, owner: state.adDetails.owner },\n        highestBid: payload.highestBid,\n      };\n\n    case POST_AD:\n      return {\n        ...state,\n        ads: [...state.ads, payload],\n        loading: false,\n      };\n\n    case START_AUCTION:\n      return {\n        ...state,\n        adDetails: { ...state.adDetails, auctionStarted: true },\n        loading: false,\n      };\n\n    case USER_PURCHASED_LOADED:\n      return {\n        ...state,\n        purchased: payload,\n        purchasedLoading: false,\n      };\n\n    case AD_POSTED_BY_OTHER:\n      return {\n        ...state,\n        ads: [payload, ...state.ads],\n      };\n\n    case UPDATE_AD_IN_AD_LIST:\n      let updatedList = state.ads.map((ad) => {\n        if (ad._id.toString() === payload._id.toString()) return payload;\n        else return ad;\n      });\n      return {\n        ...state,\n        ads: updatedList,\n        loading: false,\n      };\n\n    case UPDATE_TIMER:\n      console.log(state.adDetails._id);\n      console.log(payload);\n      if (state.adDetails._id === payload._id) {\n        return {\n          ...state,\n          adDetails: { ...state.adDetails, timer: payload.timer },\n          loading: false,\n        };\n      } else {\n        return {\n          ...state,\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}